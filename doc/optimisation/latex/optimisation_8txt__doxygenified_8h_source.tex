\doxysection{optimisation.\+txt\+\_\+doxygenified.\+h}
\hypertarget{optimisation_8txt__doxygenified_8h_source}{}\label{optimisation_8txt__doxygenified_8h_source}\mbox{\hyperlink{optimisation_8txt__doxygenified_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00001}00001\ \textcolor{comment}{/**}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00002}00002\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00003}00003\ \textcolor{comment}{\(\backslash\)mainpage\ Optimisation}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00004}00004\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00005}00005\ \textcolor{comment}{One\ of\ the\ main\ challenges\ in\ the\ development\ of\ a\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00006}00006\ \textcolor{comment}{general-\/purpose\ scientific\ computing\ library\ is\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00007}00007\ \textcolor{comment}{the\ potential\ conflict\ between\ the\ desire\ for\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00008}00008\ \textcolor{comment}{robustness\ and\ generality\ on\ the\ one\ hand,\ and\ code\ optimisation}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00009}00009\ \textcolor{comment}{(in\ terms\ of\ speed\ and\ memory\ requirements)\ on\ the\ other.}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00010}00010\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00011}00011\ \textcolor{comment}{One\ of\ \(\backslash\)c\ oomph-\/lib's\ main\ design\ principles\ is\ that\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00012}00012\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00013}00013\ \textcolor{comment}{<center>}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00014}00014\ \textcolor{comment}{<EM><B>Robustness/correctness\ is\ more\ important\ than\ "{}raw\ speed"{},</B></EM>}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00015}00015\ \textcolor{comment}{</center>}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00016}00016\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00017}00017\ \textcolor{comment}{implying\ that\ \(\backslash\)e\ by\ \(\backslash\)e\ default,\ all\ methods\ should\ reliably\ produce}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00018}00018\ \textcolor{comment}{the\ \(\backslash\)e\ correct\ results.\ Possible\ optimisations\ that\ may\ lead\ to}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00019}00019\ \textcolor{comment}{incorrect\ results\ even\ for\ a\ small\ subset\ of\ cases,\ must\ be}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00020}00020\ \textcolor{comment}{activated\ explicitly\ by\ the\ "{}knowledgeable"{}\ user,\ who\ then}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00021}00021\ \textcolor{comment}{takes\ the\ responsibility\ for\ any\ resulting\ errors.}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00022}00022\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00023}00023\ \textcolor{comment}{Here\ are\ some\ examples\ for\ possible\ optimisations\ that\ you\ may\ wish}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00024}00024\ \textcolor{comment}{to\ activate\ for\ your\ problem.\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00025}00025\ \textcolor{comment}{-\/\ \(\backslash\)ref\ linear\_vs\_nonlinear}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00026}00026\ \textcolor{comment}{-\/\ \(\backslash\)ref\ store\_shape}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00027}00027\ \textcolor{comment}{-\/\ \(\backslash\)ref\ full\_integration}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00028}00028\ \textcolor{comment}{-\/\ \(\backslash\)ref\ ale}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00029}00029\ \textcolor{comment}{-\/\ \(\backslash\)ref\ C\_style\_output}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00030}00030\ \textcolor{comment}{-\/\ \(\backslash\)ref\ assembly}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00031}00031\ \textcolor{comment}{.}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00032}00032\ \textcolor{comment}{All\ tend\ to\ lead\ to\ faster\ run\ times}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00033}00033\ \textcolor{comment}{(by\ how\ much\ depends\ on\ your\ machine\ and\ your\ compiler\ -\/-\/}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00034}00034\ \textcolor{comment}{experiment!),\ but\ there\ are\ caveats\ that\ you\ must\ be\ aware\ of:}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00035}00035\ \textcolor{comment}{-\/\ Some\ techniques\ may\ incur\ significant\ memory\ overheads\ (e.g.\ storing\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00036}00036\ \textcolor{comment}{\ \ the\ shape\ functions).}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00037}00037\ \textcolor{comment}{-\/\ Some\ techniques\ may\ produce\ the\ wrong\ results\ for\ your\ problem}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00038}00038\ \textcolor{comment}{\ \ (for\ instance,\ declaring\ a\ problem\ to\ be\ linear\ when\ it\ isn't\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00039}00039\ \textcolor{comment}{\ \ will\ lead\ to\ a\ very\ significant\ speedup.\ However,\ the\ results\ will}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00040}00040\ \textcolor{comment}{\ \ be\ wrong!)}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00041}00041\ \textcolor{comment}{-\/\ Some\ techniques\ will\ make\ the\ code\ less\ robust\ (e.g.\ using}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00042}00042\ \textcolor{comment}{\ \ C-\/style\ output).\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00043}00043\ \textcolor{comment}{.\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00044}00044\ \textcolor{comment}{You\ choose!\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00045}00045\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00046}00046\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00047}00047\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00048}00048\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00049}00049\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00050}00050\ \textcolor{comment}{<HR>}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00051}00051\ \textcolor{comment}{<HR>}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00052}00052\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00053}00053\ \textcolor{comment}{\(\backslash\)section\ \ linear\_vs\_nonlinear\ Linear\ vs.\ nonlinear\ problems}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00054}00054\ \textcolor{comment}{By\ default,\ \(\backslash\)c\ oomph-\/lib\ treats\ all\ problems\ as\ nonlinear\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00055}00055\ \textcolor{comment}{and\ uses\ Newton's\ method\ to\ solve\ the\ system\ of\ nonlinear\ algebraic}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00056}00056\ \textcolor{comment}{equations\ that\ result\ from\ the\ problem's\ discretisation.\ With\ this}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00057}00057\ \textcolor{comment}{approach,\ linear\ problems\ are\ special\ cases\ for\ which\ Newton's\ method}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00058}00058\ \textcolor{comment}{converges\ in\ one\ step.\ However,\ if\ a\ problem\ is\ known\ to\ be\ linear,}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00059}00059\ \textcolor{comment}{several\ (costly)\ steps\ in\ Newton's\ method\ are\ superfluous\ and\ may}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00060}00060\ \textcolor{comment}{be\ omitted,\ leading\ to\ a\ significant\ speedup.\ For\ instance,\ in\ a\ linear}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00061}00061\ \textcolor{comment}{problem\ it\ is\ not\ necessary\ to\ re-\/compute\ the\ residuals\ of\ the\ nonlinear}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00062}00062\ \textcolor{comment}{algebraic\ equations\ after\ the\ (single)\ Newton\ step,\ as\ we\ already\ know\ that}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00063}00063\ \textcolor{comment}{they\ will\ have\ been\ reduced\ to\ zero\ (modulo\ roundoff\ errors).\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00064}00064\ \textcolor{comment}{We\ refer\ to\ the\ document\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00065}00065\ \textcolor{comment}{<A\ HREF="{}../../order\_of\_action\_functions/html/index.html"{}>"{}Action"{}\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00066}00066\ \textcolor{comment}{functions\ in\ oomph-\/lib's\ black-\/box\ Newton\ solver</A>\ for\ a\ more\ detailed}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00067}00067\ \textcolor{comment}{discussion.}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00068}00068\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00069}00069\ \textcolor{comment}{The\ user\ may\ declare\ a\ problem\ to\ be\ linear\ by\ setting\ the\ flag\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00070}00070\ \textcolor{comment}{\(\backslash\)code}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00071}00071\ \textcolor{comment}{bool\ Problem::Problem\_is\_nonlinear}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00072}00072\ \textcolor{comment}{\(\backslash\)endcode}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00073}00073\ \textcolor{comment}{which\ is\ initialised\ to\ \(\backslash\)c\ true\ in\ the\ constructor\ of\ the\ \(\backslash\)c\ Problem\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00074}00074\ \textcolor{comment}{base\ class,\ to\ \(\backslash\)c\ false.}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00075}00075\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00076}00076\ \textcolor{comment}{Experiment\ with\ the\ demo\ code}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00077}00077\ \textcolor{comment}{<A\ HREF="{}../../../demo\_drivers/optimisation/linear\_vs\_nonlinear/two\_d\_poisson.cc"{}>two\_d\_poisson.cc</A>}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00078}00078\ \textcolor{comment}{to\ examine\ the\ speedup\ achievable\ by\ declaring\ a\ (linear!)\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00079}00079\ \textcolor{comment}{Problem\ to\ be\ linear.\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00080}00080\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00081}00081\ \textcolor{comment}{<HR>}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00082}00082\ \textcolor{comment}{<HR>}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00083}00083\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00084}00084\ \textcolor{comment}{\(\backslash\)section\ store\_shape\ Storing\ the\ shape\ functions}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00085}00085\ \textcolor{comment}{If\ a\ problem\ is\ to\ be\ solved\ repeatedly\ (e.g.\ in\ a\ time-\/dependent}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00086}00086\ \textcolor{comment}{simulation,\ or\ during\ a\ parameter\ study)\ it\ may\ be\ beneficial\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00087}00087\ \textcolor{comment}{to\ avoid\ the\ re-\/computation\ of\ the\ shape\ function\ and\ their}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00088}00088\ \textcolor{comment}{derivatives\ with\ respect\ to\ the\ local\ and\ global\ coordinates\ at\ the\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00089}00089\ \textcolor{comment}{elements'\ integration\ points\ by\ storing\ their\ values.\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00090}00090\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00091}00091\ \textcolor{comment}{\ However,\ there\ are\ two\ problems\ with\ this\ approach:}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00092}00092\ \textcolor{comment}{-\/\#\ It\ introduces\ significant\ memory\ overheads.\ For\ instance,\ to\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00093}00093\ \textcolor{comment}{\ \ \ store\ just\ the\ shape\ functions\ in\ a\ 3D\ problem\ discretised\ by}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00094}00094\ \textcolor{comment}{\ \ \ \(\backslash\)f\$\ N\_\{elem\}\(\backslash\)f\$\ 27-\/node\ brick\ elements\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00095}00095\ \textcolor{comment}{\ \ \ with\ a\ 27-\/point\ Gauss\ rule,\ storage\ for\ \(\backslash\)f\$\ 27\ \(\backslash\)times\ 27\ \(\backslash\)times}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00096}00096\ \textcolor{comment}{\ \ \ N\_\{elem\}\ \(\backslash\)f\$\ doubles\ is\ required.\ Storage\ of\ the\ (much\ more\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00097}00097\ \textcolor{comment}{\ \ \ costly\ to\ compute)\ shape\ function\ derivatives\ requires\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00098}00098\ \textcolor{comment}{\ \ \ six\ times\ that\ storage.\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00099}00099\ \textcolor{comment}{-\/\#\ The\ most\ costly-\/to-\/compute\ quantities\ are\ the\ derivatives}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00100}00100\ \textcolor{comment}{\ \ \ \ of\ the\ shape\ functions\ with\ respect\ to\ the\ global\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00101}00101\ \textcolor{comment}{\ \ \ \ coordinates,\ so\ it\ is\ most\ tempting\ to\ store\ these.}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00102}00102\ \textcolor{comment}{\ \ \ \ However,\ in\ free-\/boundary\ problems\ in\ which\ the\ nodal\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00103}00103\ \textcolor{comment}{\ \ \ \ positions\ are\ determined\ as\ part\ of\ the\ solution,\ the}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00104}00104\ \textcolor{comment}{\ \ \ \ derivatives\ of\ the\ shape\ functions\ with\ respect}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00105}00105\ \textcolor{comment}{\ \ \ \ to\ the\ global\ coordinates\ depend\ on\ the\ solution\ and\ \(\backslash\)b\ must}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00106}00106\ \textcolor{comment}{\ \ \ \ be\ recomputed.\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00107}00107\ \textcolor{comment}{.}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00108}00108\ \textcolor{comment}{To\ ensure\ correctness/robustness\ and\ to\ minimise\ the\ memory\ overheads,}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00109}00109\ \textcolor{comment}{\(\backslash\)c\ oomph-\/lib's\ existing\ finite\ elements\ represent\ the\ shape}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00110}00110\ \textcolor{comment}{functions\ and\ their\ derivatives\ as\ \(\backslash\)c\ StorableShapeFunction}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00111}00111\ \textcolor{comment}{objects.\ These\ allow\ their\ values\ to\ be\ stored\ at\ the\ integration}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00112}00112\ \textcolor{comment}{points,\ but\ the\ capability\ is\ not\ activated,\ unless\ an\ element\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00113}00113\ \textcolor{comment}{(of\ type\ \(\backslash\)c\ ELEMENT,\ say)\ is\ used\ in\ its\ "{}wrapped"{}\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00114}00114\ \textcolor{comment}{form,\ as\ \(\backslash\)c\ StorableShapeElement<ELEMENT>.}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00115}00115\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00116}00116\ \textcolor{comment}{The\ detailed\ documentation\ for\ this\ is\ yet\ to\ be\ written}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00117}00117\ \textcolor{comment}{but\ you\ may\ consult\ the\ well-\/documented\ demo\ code}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00118}00118\ \textcolor{comment}{<A\ HREF="{}../../../demo\_drivers/optimisation/stored\_shape\_fcts/two\_d\_poisson\_stored\_shape\_fcts.cc"{}>two\_d\_poisson\_stored\_shape\_fcts.cc</A>,\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00119}00119\ \textcolor{comment}{and\ the\ discussion\ in\ the\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00120}00120\ \textcolor{comment}{<A\ HREF="{}../../quick\_guide/html/index.html\#pre\_compute\_psi"{}>}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00121}00121\ \textcolor{comment}{(Not-\/So-\/)Quick\ Guide.</A>}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00122}00122\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00123}00123\ \textcolor{comment}{<HR>}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00124}00124\ \textcolor{comment}{<HR>}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00125}00125\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00126}00126\ \textcolor{comment}{\(\backslash\)section\ full\_integration\ Full\ vs.\ reduced\ integration}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00127}00127\ \textcolor{comment}{To\ maximise\ the\ potential\ for\ code\ reuse,\ all\ existing\ finite\ elements}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00128}00128\ \textcolor{comment}{in\ \(\backslash\)c\ oomph-\/lib\ are\ composed\ (via\ multiple\ inheritance)\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00129}00129\ \textcolor{comment}{from\ (i)\ "{}geometric"{}\ finite\ elements\ (e.g.\ line,\ quad,\ brick,\ triangle\ and}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00130}00130\ \textcolor{comment}{tet\ elements),\ and\ (ii)\ separate\ equations\ classes.\ A\ default\ (spatial)\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00131}00131\ \textcolor{comment}{integration\ scheme\ is\ defined\ for\ each\ geometric\ element.\ This\ default}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00132}00132\ \textcolor{comment}{integration\ scheme\ is\ chosen\ to\ provide\ "{}full\ integration"{}\ for\ this}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00133}00133\ \textcolor{comment}{element.\ This\ implies\ that\ for\ an\ undeformed\ element\ the\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00134}00134\ \textcolor{comment}{products\ of\ any\ two\ shape\ functions\ are\ integrated\ exactly.\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00135}00135\ \textcolor{comment}{For\ time-\/dependent\ problems\ (e.g.\ in}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00136}00136\ \textcolor{comment}{problems\ involving\ the\ unsteady\ heat\ equation)\ where\ products\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00137}00137\ \textcolor{comment}{of\ shape\ functions\ arise\ in\ the\ "{}mass\ matrix"{},\ "{}full\ integration"{}}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00138}00138\ \textcolor{comment}{is\ required\ to\ ensure\ that\ the\ numerical\ solution\ converges\ to\ the\ exact}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00139}00139\ \textcolor{comment}{solution\ under\ mesh\ refinement.\ \ In\ some\ applications}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00140}00140\ \textcolor{comment}{(e.g.\ in\ problems\ involving\ the\ Poisson\ equation)\ a\ lower-\/order}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00141}00141\ \textcolor{comment}{(and\ therefore\ cheaper)\ "{}reduced\ integration"{}\ scheme\ may\ be\ sufficient\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00142}00142\ \textcolor{comment}{to\ maintain\ the\ asymptotic\ convergence\ rate.\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00143}00143\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00144}00144\ \textcolor{comment}{In\ this\ case,\ the\ user\ can\ over-\/write\ the\ default\ spatial\ integration}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00145}00145\ \textcolor{comment}{scheme,\ using\ the\ function\ \(\backslash\)c}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00146}00146\ \textcolor{comment}{FiniteElement::set\_integration\_scheme(...),}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00147}00147\ \textcolor{comment}{as\ illustrated\ here.}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00148}00148\ \textcolor{comment}{\(\backslash\)code}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00149}00149\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00150}00150\ \textcolor{comment}{\ \ \ \ //\ Create\ an\ instance\ of\ a\ lower-\/order\ integration\ scheme}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00151}00151\ \textcolor{comment}{\ \ \ \ Gauss<2,2>*\ int\_pt=new\ Gauss<2,2>;}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00152}00152\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00153}00153\ \textcolor{comment}{\ \ \ //Find\ number\ of\ elements\ in\ mesh}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00154}00154\ \textcolor{comment}{\ \ \ unsigned\ n\_element\ =\ problem.mesh\_pt()-\/>nelement();}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00155}00155\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00156}00156\ \textcolor{comment}{\ \ \ //\ Loop\ over\ the\ elements\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00157}00157\ \textcolor{comment}{\ \ \ for(unsigned\ i=0;i<n\_element;i++)}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00158}00158\ \textcolor{comment}{\ \ \ \ \{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00159}00159\ \textcolor{comment}{\ \ \ \ \ //Set\ the\ a\ different\ integration\ scheme}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00160}00160\ \textcolor{comment}{\ \ \ \ \ problem.mesh\_pt()-\/>finite\_element\_pt(i)-\/>set\_integration\_scheme(int\_pt);\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00161}00161\ \textcolor{comment}{\ \ \ \ \}}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00162}00162\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00163}00163\ \textcolor{comment}{\(\backslash\)endcode}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00164}00164\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00165}00165\ \textcolor{comment}{Driver\ codes\ that\ may\ be\ used\ to\ experiment\ with\ reduced\ integration}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00166}00166\ \textcolor{comment}{and\ to\ assess\ the\ asymptotic\ convergence\ behaviour\ can\ be\ found}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00167}00167\ \textcolor{comment}{in\ the\ directory}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00168}00168\ \textcolor{comment}{<A\ HREF="{}../../../self\_test/poisson/convergence\_tests"{}>self\_test/poisson/convergence\_tests/</A>}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00169}00169\ \textcolor{comment}{<HR>}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00170}00170\ \textcolor{comment}{<HR>}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00171}00171\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00172}00172\ \textcolor{comment}{\(\backslash\)section\ ale\ Disabling\ the\ ALE\ formulation\ of\ unsteady\ equations}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00173}00173\ \textcolor{comment}{Most\ existing\ finite\ elements\ for\ unsteady\ problems\ are\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00174}00174\ \textcolor{comment}{formulated\ in\ the\ \ "{}Arbitrary\ Lagrangian\ Eulerian\ (ALE)"{}\ form\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00175}00175\ \textcolor{comment}{by\ implementing\ the\ Eulerian\ time-\/derivative\ \(\backslash\)f\$\ \(\backslash\)partial\ u\ /\(\backslash\)partial}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00176}00176\ \textcolor{comment}{t\(\backslash\)f\$\ (to\ be\ evaluated\ at\ a\ fixed\ Eulerian\ position)}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00177}00177\ \textcolor{comment}{as}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00178}00178\ \textcolor{comment}{\(\backslash\)f[\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00179}00179\ \textcolor{comment}{\(\backslash\)left.\ \(\backslash\)frac\{\(\backslash\)partial\ u\}\{\(\backslash\)partial\ t\}\ \ \(\backslash\)right|\_\{\(\backslash\)mbox\{fixed\ Eulerian\ position\}\}}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00180}00180\ \textcolor{comment}{=\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00181}00181\ \textcolor{comment}{\(\backslash\)left.\ \(\backslash\)frac\{\(\backslash\)partial\ u\}\{\(\backslash\)partial\ t\}\ \ \(\backslash\)right|\_\{\(\backslash\)mbox\{fixed\ local}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00182}00182\ \textcolor{comment}{coordinate\}\}}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00183}00183\ \textcolor{comment}{-\/\ \(\backslash\)sum\_\{i=1\}\string^\{DIM\}\ v\_i\string^\{\(\backslash\)mbox\{[Mesh]\}\}\ \(\backslash\)\ \(\backslash\)frac\{\(\backslash\)partial\ u\}\{\(\backslash\)partial\ x\_i\}}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00184}00184\ \textcolor{comment}{\(\backslash\)f]}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00185}00185\ \textcolor{comment}{where\ \ \(\backslash\)f\$\ v\_i\string^\{\(\backslash\)mbox\{[Mesh]\}\}\ \(\backslash\)\ \(\backslash\)\ (i=1,...,DIM)\(\backslash\)f\$\ is\ the}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00186}00186\ \textcolor{comment}{mesh\ velocity.\ This\ formulation\ ensures\ that\ the\ time-\/derivatives}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00187}00187\ \textcolor{comment}{are\ computed\ correctly\ if\ the\ element\ is\ used\ in\ a\ free-\/boundary\ value}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00188}00188\ \textcolor{comment}{problem.\ However,\ the\ computation\ of\ the\ mesh\ velocities\ introduces}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00189}00189\ \textcolor{comment}{an\ additional\ cost\ which\ is\ avoidable\ if\ the\ mesh\ is,\ in\ fact,\ stationary.\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00190}00190\ \textcolor{comment}{The\ user\ may\ disable\ the\ computation\ of\ the}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00191}00191\ \textcolor{comment}{ALE\ terms\ by\ calling\ the\ function\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00192}00192\ \textcolor{comment}{\(\backslash\)code\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00193}00193\ \textcolor{comment}{FiniteElement::disable\_ALE()}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00194}00194\ \textcolor{comment}{\(\backslash\)endcode}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00195}00195\ \textcolor{comment}{(This\ function\ is\ implemented\ as\ a\ virtual\ function\ in\ the}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00196}00196\ \textcolor{comment}{\(\backslash\)c\ FiniteElement\ base\ class.\ If\ called,\ it\ simply\ issues\ a\ warning}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00197}00197\ \textcolor{comment}{message\ to\ announce\ that\ it\ has\ not\ been\ overloaded\ in\ a\ derived}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00198}00198\ \textcolor{comment}{class\ -\/-\/\ usually\ an\ indication\ that\ the\ element\ in\ question}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00199}00199\ \textcolor{comment}{does\ not\ involve\ any\ ALE\ terms).\ The\ ALE\ capability\ may\ be}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00200}00200\ \textcolor{comment}{re-\/enabled\ by\ calling\ the\ corresponding\ function\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00201}00201\ \textcolor{comment}{\(\backslash\)code\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00202}00202\ \textcolor{comment}{FiniteElement::enable\_ALE()}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00203}00203\ \textcolor{comment}{\(\backslash\)endcode}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00204}00204\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00205}00205\ \textcolor{comment}{Experiment\ with\ the\ driver\ codes\ in\ the\ directory}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00206}00206\ \textcolor{comment}{<A\ HREF="{}../../../demo\_drivers/optimisation/disable\_ALE"{}>demo\_drivers/optimisation/disable\_ALE</A>}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00207}00207\ \textcolor{comment}{to\ examine\ the\ speedup\ achievable\ by\ ignoring\ the\ ALE\ terms\ in\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00208}00208\ \textcolor{comment}{the\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00209}00209\ \textcolor{comment}{<A\ HREF="{}../../../demo\_drivers/optimisation/disable\_ALE/unsteady\_heat"{}>unsteady}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00210}00210\ \textcolor{comment}{heat</A>\ and\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00211}00211\ \textcolor{comment}{<A\ HREF="{}../../../demo\_drivers/optimisation/disable\_ALE/navier\_stokes"{}>Navier-\/Stokes</A>\ equations.\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00212}00212\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00213}00213\ \textcolor{comment}{<HR>}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00214}00214\ \textcolor{comment}{<HR>}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00215}00215\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00216}00216\ \textcolor{comment}{\(\backslash\)section\ C\_style\_output\ C\ vs.\ C++-\/style\ output}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00217}00217\ \textcolor{comment}{In\ most\ <A\ HREF="{}../../example\_code\_list/html/index.html"{}>demo\ driver}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00218}00218\ \textcolor{comment}{codes</A>\ post-\/processing\ is\ performed\ by\ passing\ a\ C++-\/stream}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00219}00219\ \textcolor{comment}{to\ a\ high-\/level\ output\ function,\ as\ in\ this\ code\ segment}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00220}00220\ \textcolor{comment}{\(\backslash\)code}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00221}00221\ \textcolor{comment}{\ \ \#include<ofstream>}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00222}00222\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00223}00223\ \textcolor{comment}{\ \ [...]}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00224}00224\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00225}00225\ \textcolor{comment}{\ \ ofstream\ output\_stream("{}solution.dat"{});}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00226}00226\ \textcolor{comment}{\ \ mesh\_pt()-\/>output(output\_stream);}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00227}00227\ \textcolor{comment}{\ \ output\_stream.close();}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00228}00228\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00229}00229\ \textcolor{comment}{\ \ [...]}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00230}00230\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00231}00231\ \textcolor{comment}{\(\backslash\)endcode}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00232}00232\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00233}00233\ \textcolor{comment}{While\ C++-\/streams\ are\ very\ convenient,\ they\ can\ be\ expensive\ -\/-\/\ so}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00234}00234\ \textcolor{comment}{much\ so\ that\ in\ extreme\ cases\ a\ computation\ can\ become\ dominated\ by\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00235}00235\ \textcolor{comment}{the\ cost\ of\ the\ post-\/processing\ operations.\ There\ is\ no\ obvious\ reason\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00236}00236\ \textcolor{comment}{why\ I/O\ with\ C++\ streams\ should\ be\ so\ much\ slower\ than\ I/O\ in\ fortran\ or\ C,\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00237}00237\ \textcolor{comment}{say.\ In\ fact,\ it\ is\ not\ supposed\ to\ be!\ (Google\ will\ lead\ you\ to\ numerous}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00238}00238\ \textcolor{comment}{heated\ discussions\ on\ this\ topic.)\ However,\ we\ (and,\ it\ seems,\ many}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00239}00239\ \textcolor{comment}{others)\ have\ found\ C++-\/output\ to\ be\ consistently\ slower\ than\ C-\/style}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00240}00240\ \textcolor{comment}{output.\ Since\ the\ latter\ is\ available\ from\ C++\ we\ have\ started\ to\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00241}00241\ \textcolor{comment}{provide\ alternative\ output\ routines\ that\ employ\ C-\/style\ I/O,\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00242}00242\ \textcolor{comment}{using\ the\ FILE\ type.\ \ If\ your\ computation\ involves\ lots\ of\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00243}00243\ \textcolor{comment}{I/O,\ it\ may\ be\ helpful\ to\ replace\ the\ above\ statements\ by}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00244}00244\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00245}00245\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00246}00246\ \textcolor{comment}{\(\backslash\)code}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00247}00247\ \textcolor{comment}{\ \ \#include<stdio.h>}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00248}00248\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00249}00249\ \textcolor{comment}{\ \ [...]}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00250}00250\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00251}00251\ \textcolor{comment}{\ \ FILE*\ file\_pt\ =\ fopen("{}solution.dat"{},"{}w"{});}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00252}00252\ \textcolor{comment}{\ \ mesh\_pt()-\/>output(file\_pt);}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00253}00253\ \textcolor{comment}{\ \ fclose(file\_pt);}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00254}00254\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00255}00255\ \textcolor{comment}{\ \ [...]}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00256}00256\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00257}00257\ \textcolor{comment}{\(\backslash\)endcode}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00258}00258\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00259}00259\ \textcolor{comment}{Depending\ on\ the\ application,\ we\ typically\ find\ that\ C-\/style\ output}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00260}00260\ \textcolor{comment}{is\ about\ 2\ to\ 6\ times\ faster\ than\ its\ C++\ equivalent.\ Run\ the\ demo}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00261}00261\ \textcolor{comment}{code\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00262}00262\ \textcolor{comment}{<A\ HREF="{}../../../demo\_drivers/optimisation/C\_style\_output/c\_style\_output.cc"{}>c\_style\_output.cc</A>}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00263}00263\ \textcolor{comment}{to\ explore\ the\ relative\ performance\ of\ the\ two\ methods\ on\ your\ machine.}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00264}00264\ \textcolor{comment}{However,\ C-\/style\ output\ is\ not\ as\ "{}bullet-\/proof"{}\ as\ its}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00265}00265\ \textcolor{comment}{C++-\/counterpart.\ For\ instance,\ if\ an\ output\ directory\ does\ not\ exist,\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00266}00266\ \textcolor{comment}{trying\ to\ write\ to\ it\ with\ C-\/style\ output\ tends\ to\ cause\ a\ segmentation}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00267}00267\ \textcolor{comment}{fault,\ whereas\ C++-\/output\ handles\ this\ more\ gracefully\ (no\ output}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00268}00268\ \textcolor{comment}{is\ produced\ but\ the\ code\ execution\ continues).\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00269}00269\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00270}00270\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00271}00271\ \textcolor{comment}{<HR>}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00272}00272\ \textcolor{comment}{<HR>}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00273}00273\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00274}00274\ \textcolor{comment}{\(\backslash\)section\ assembly\ Different\ sparse\ assembly\ techniques\ and\ the\ STL\ memory\ pool}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00275}00275\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00276}00276\ \textcolor{comment}{\(\backslash\)subsection\ assembly\_methods\ The\ different\ sparse\ assembly\ methods\ and\ how\ to\ compare\ their\ relative\ performance}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00277}00277\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00278}00278\ \textcolor{comment}{\(\backslash\)c\ oomph-\/lib's\ black-\/box\ nonlinear\ solver\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00279}00279\ \textcolor{comment}{\(\backslash\)c\ Problem::newton\_solve()\ employs\ Newton's\ method\ to\ solve\ the\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00280}00280\ \textcolor{comment}{system\ of\ nonlinear\ algebraic\ equations\ arising\ from\ the}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00281}00281\ \textcolor{comment}{discretisation\ of\ the\ problem.\ By\ default,\ the\ linear\ systems\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00282}00282\ \textcolor{comment}{that\ determine\ the\ corrections\ to\ the\ unknowns\ during\ the\ Newton}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00283}00283\ \textcolor{comment}{iterations\ are\ solved\ with\ \(\backslash\)c\ SuperLUSolver,\ \(\backslash\)c\ oomph-\/lib's\ default\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00284}00284\ \textcolor{comment}{\(\backslash\)c\ LinearSolver.\ Within\ this\ framework\ the\ two\ most\ computationally\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00285}00285\ \textcolor{comment}{expensive\ steps\ (both\ in\ terms\ of\ memory\ usage\ and\ CPU\ time)\ are\ the\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00286}00286\ \textcolor{comment}{assembly\ of\ the\ linear\ system\ (comprising\ the\ Jacobian\ matrix\ and\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00287}00287\ \textcolor{comment}{the\ residual\ vector)\ and\ its\ solution.\ [Not\ all}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00288}00288\ \textcolor{comment}{of\ \(\backslash\)c\ oomph-\/lib's\ \ \(\backslash\)c\ LinearSolvers\ require\ the\ assembly\ of\ the}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00289}00289\ \textcolor{comment}{Jacobian\ matrix\ (for\ instance\ the\ frontal\ solver\ \(\backslash\)c\ HSL\_MA42}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00290}00290\ \textcolor{comment}{avoids\ the\ assembly\ of\ the\ linear\ system\ and\ computes\ its\ LU\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00291}00291\ \textcolor{comment}{decomposition\ "{}on\ the\ fly"{})\ but\ most\ of\ them\ do.]}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00292}00292\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00293}00293\ \textcolor{comment}{\ The\ assembly\ of\ the\ Jacobian\ matrix\ (in\ compressed-\/row\ or}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00294}00294\ \textcolor{comment}{compressed-\/column\ storage)\ is\ typically\ performed\ by\ the\ function\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00295}00295\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00296}00296\ \textcolor{comment}{\(\backslash\)code}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00297}00297\ \textcolor{comment}{Problem::sparse\_assemble\_row\_or\_column\_compressed(...)}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00298}00298\ \textcolor{comment}{\(\backslash\)endcode}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00299}00299\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00300}00300\ \textcolor{comment}{This\ function\ performs\ the\ assembly,\ using\ one\ of\ five}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00301}00301\ \textcolor{comment}{different\ assembly\ methods,\ selected\ by\ the\ protected\ member\ data}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00302}00302\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00303}00303\ \textcolor{comment}{\(\backslash\)code}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00304}00304\ \textcolor{comment}{unsigned\ Problem::Sparse\_assembly\_method}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00305}00305\ \textcolor{comment}{\(\backslash\)endcode}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00306}00306\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00307}00307\ \textcolor{comment}{in\ the\ \(\backslash\)c\ Problem\ class.\ This\ flag\ can\ take\ any\ of\ the\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00308}00308\ \textcolor{comment}{values\ defined\ in\ the\ enumeration\ \(\backslash\)c\ Problem::Assembly\_method.\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00309}00309\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00310}00310\ \textcolor{comment}{Each\ of\ the\ five\ different\ methods\ has\ its\ own\ advantages\ and\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00311}00311\ \textcolor{comment}{disadvantages\ in\ terms\ of\ speed\ and/or\ memory\ requirements.\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00312}00312\ \textcolor{comment}{By\ default,\ we\ use\ the\ "{}assembly\ using\ vectors\ of\ pairs"{}}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00313}00313\ \textcolor{comment}{as\ it\ tends\ to\ be\ optimal\ in\ both\ respects\ -\/-\/}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00314}00314\ \textcolor{comment}{at\ least\ when\ the\ library\ is\ compiled\ with\ full\ optimisation.}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00315}00315\ \textcolor{comment}{If\ the\ library\ is\ compiled\ without\ optimisation\ and/or\ in\ \(\backslash\)c\ PARANOID}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00316}00316\ \textcolor{comment}{mode,\ the\ map-\/based\ assembly\ tends\ to\ be\ faster,\ if\ significantly\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00317}00317\ \textcolor{comment}{more\ expensive\ in\ terms\ of\ memory\ requirements.}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00318}00318\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00319}00319\ \textcolor{comment}{\ \ You\ should\ explore\ the\ performance\ of\ the\ various\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00320}00320\ \textcolor{comment}{methods\ on\ your\ machine,\ using\ the\ the\ driver\ code}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00321}00321\ \textcolor{comment}{<A\ HREF="{}../../../demo\_drivers/optimisation/sparse\_assemble/sparse\_assemble\_test.cc"{}>sparse\_assemble\_test.cc</A>}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00322}00322\ \textcolor{comment}{in\ the\ directory}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00323}00323\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00324}00324\ \textcolor{comment}{<CENTER>}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00325}00325\ \textcolor{comment}{<A\ HREF="{}../../../demo\_drivers/optimisation/sparse\_assemble/"{}>}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00326}00326\ \textcolor{comment}{demo\_drivers/optimisation/sparse\_assemble</A>}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00327}00327\ \textcolor{comment}{</CENTER>}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00328}00328\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00329}00329\ \textcolor{comment}{The\ shell\ script\ <A\ HREF="{}../../../demo\_drivers/optimisation/sparse\_assemble/compare.bash"{}>}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00330}00330\ \textcolor{comment}{compare.bash</A>\ in\ the\ same\ directory}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00331}00331\ \textcolor{comment}{may\ be\ used\ to\ systematically\ explore\ the\ performance\ of}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00332}00332\ \textcolor{comment}{the\ different\ methods\ for\ various\ problem\ sizes.}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00333}00333\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00334}00334\ \textcolor{comment}{While\ the\ test\ code\ automatically\ documents\ the\ CPU\ times\ required\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00335}00335\ \textcolor{comment}{for\ the\ matrix\ assembly,\ the\ automatic\ assessment\ of\ its\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00336}00336\ \textcolor{comment}{memory\ usage\ is\ a\ somewhat\ nontrivial\ task.\ We\ provide\ a}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00337}00337\ \textcolor{comment}{quick-\/and-\/dirty\ solution\ to\ this\ problem:\ If\ the\ protected\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00338}00338\ \textcolor{comment}{member\ data}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00339}00339\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00340}00340\ \textcolor{comment}{\(\backslash\)code}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00341}00341\ \textcolor{comment}{bool\ Problem::Pause\_at\_end\_of\_sparse\_assembly}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00342}00342\ \textcolor{comment}{\(\backslash\)endcode}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00343}00343\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00344}00344\ \textcolor{comment}{is\ set\ to\ true,\ the\ assembly\ process\ is\ halted\ when\ it\ has\ reached}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00345}00345\ \textcolor{comment}{its\ most\ memory-\/intensive\ phase.\ The\ user\ can\ then\ use}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00346}00346\ \textcolor{comment}{\(\backslash\)c\ top\ (or\ some\ other\ external\ tool)\ to\ assess\ the\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00347}00347\ \textcolor{comment}{memory\ usage\ of\ the\ code.\ (Typing\ "{}M"{}\ in\ \(\backslash\)c\ top\ sorts\ the\ entries}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00348}00348\ \textcolor{comment}{by\ memory\ usage\ rather\ than\ by\ cpu\ usage).}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00349}00349\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00350}00350\ \textcolor{comment}{\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00351}00351\ \textcolor{comment}{<HR>}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00352}00352\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00353}00353\ \textcolor{comment}{\(\backslash\)subsection\ STL\_pool\ The\ STL\ memory\ pool\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00354}00354\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00355}00355\ \textcolor{comment}{When\ analysing\ the\ code's\ memory\ usage,\ you\ may\ notice\ that,\ following}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00356}00356\ \textcolor{comment}{the\ assembly\ of\ the\ Jacobian\ matrix,\ not\ all\ memory\ is\ returned\ to}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00357}00357\ \textcolor{comment}{the\ system,\ particularly,\ if\ maps\ or\ lists\ are\ used\ for\ the\ assembly.}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00358}00358\ \textcolor{comment}{This\ does\ \(\backslash\)b\ not\ indicate\ the\ presence\ of\ a\ memory\ leak\ but\ is\ a\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00359}00359\ \textcolor{comment}{result\ of\ the\ internal\ memory\ management\ performed\ by\ the\ STL}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00360}00360\ \textcolor{comment}{allocator\ which\ retains\ some\ (and\ in\ some\ cases\ a\ lot)\ of\ the}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00361}00361\ \textcolor{comment}{initially\ allocated\ memory\ in\ its\ own\ "{}memory\ pool"{}\ in\ order\ to\ speed\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00362}00362\ \textcolor{comment}{up\ the\ subsequent\ memory\ allocation\ for\ other\ STL\ objects.\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00363}00363\ \textcolor{comment}{<A\ HREF="{}http://www.google.com"{}>Google</A>\ for\ "{}STL\ memory\ pool"{}\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00364}00364\ \textcolor{comment}{to\ find\ out\ more\ about\ this\ issue.\ The\ executive}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00365}00365\ \textcolor{comment}{summary\ is:\ "{}Memory\ pools\ are\ good\ for\ you"{},\ even\ though\ they\ have}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00366}00366\ \textcolor{comment}{the\ slightly\ annoying\ side-\/effect\ of\ making\ it\ virtually\ impossible}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00367}00367\ \textcolor{comment}{to\ monitor\ the\ \(\backslash\)e\ actual\ memory\ usage\ of\ the\ code.\ }}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00368}00368\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00369}00369\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00370}00370\ \textcolor{comment}{<hr>}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00371}00371\ \textcolor{comment}{<hr>}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00372}00372\ \textcolor{comment}{\(\backslash\)section\ pdf\ PDF\ file}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00373}00373\ \textcolor{comment}{A\ <a\ href="{}../latex/refman.pdf"{}>pdf\ version</a>\ of\ this\ document\ is\ available.}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00374}00374\ \textcolor{comment}{**/}}
\DoxyCodeLine{\Hypertarget{optimisation_8txt__doxygenified_8h_source_l00375}00375\ }

\end{DoxyCode}
