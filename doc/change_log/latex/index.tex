\chapter{Change log}
\hypertarget{index}{}\label{index}\index{Change log@{Change log}}
This document provides an overview of the major changes between different "{}official"{} releases of {\ttfamily oomph-\/lib}.

{\ttfamily oomph-\/lib} is hosted on and distributed via its Git\+Hub page \begin{center} \href{https://github.com/oomph-lib/oomph-lib}{\texttt{ https\+://github.\+com/oomph-\/lib/oomph-\/lib}} \end{center}  ~\newline
 from where a complete log of all changes is available. The move to Git\+Hub was accompanied by a version bump to 2.\+0.

This Git\+Hub repository was preceded by two subversion-\/based repositories and for historical reasons we provide access to the complete log from those\+:
\begin{DoxyItemize}
\item The file \href{../final_svn_log_before_move_to_git.txt}{\texttt{ final\+\_\+svn\+\_\+log\+\_\+before\+\_\+move\+\_\+to\+\_\+git.\+txt}} contains the complete log of our public svn repository (revision 1 to 1367); this has been incorporated into the git log. ~\newline
~\newline

\item The file \href{../final_svn_log.txt}{\texttt{ final\+\_\+svn\+\_\+log.\+txt}} contains the complete log of our private svn repository (revisions 1 to 207) which preceded its public counterpart.
\end{DoxyItemize}

The remainder of this document covers the following issues\+:


\begin{DoxyItemize}
\item \doxysectlink{index_interface_changes}{Policy on interface changes}{1}
\item \doxysectlink{index_one_point_zero_to_two_point_zero}{Changes between version 1.\+0 and 2.\+0.\texorpdfstring{$\ast$}{*}}{2}
\begin{DoxyItemize}
\item \doxysectlink{index_new_functionality_two_point_zero}{Major new functionality/changes}{3}
\end{DoxyItemize}
\item \doxysectlink{index_zero_point_nine_to_one_point_zero}{Changes between version 0.\+9 and 1.\+0.\texorpdfstring{$\ast$}{*}}{2}
\begin{DoxyItemize}
\item \doxysectlink{index_new_functionality_one_point_zero}{Major new functionality}{3}
\end{DoxyItemize}
\item \doxysectlink{index_zero_point_eight_five_to_zero_point_nine}{Changes between version 0.\+85 and 0.\+9}{2}
\begin{DoxyItemize}
\item \doxysectlink{index_new_functionality_zero_point_nine}{Major new functionality}{3}
\item \doxysectlink{index_major_interface_changes_zero_point_nine}{Major interface changes}{3}
\end{DoxyItemize}
\item \doxysectlink{index_zero_point_eight_to_zero_point_five}{Changes between version 0.\+8 and 0.\+85}{2}
\begin{DoxyItemize}
\item \doxysectlink{index_new_functionality_zero_point_five}{Major new functionality}{3}
\item \doxysectlink{index_major_interface_changes_zero_point_five}{Major interface changes}{3}
\end{DoxyItemize}
\end{DoxyItemize}\DoxyHorRuler{0}
 \DoxyHorRuler{0}
\hypertarget{index_interface_changes}{}\doxysection{\texorpdfstring{Policy on interface changes}{Policy on interface changes}}\label{index_interface_changes}
We obviously try to avoid interface changes as much as possible as they may force users to adjust their code when upgrading to a new version. We will only change interfaces (names of objects and/or member functions, or the number or order of their arguments) if
\begin{DoxyEnumerate}
\item The previously chosen name turned out to be too ambiguous. For instance, the change from 
\begin{DoxyCode}{0}
\DoxyCodeLine{Problem::actions\_before\_solve()\ }

\end{DoxyCode}
 to 
\begin{DoxyCode}{0}
\DoxyCodeLine{Problem::actions\_before\_newton\_solve()}

\end{DoxyCode}
 became necessary because of the addition of further nonlinear (but non-\/\+Newton) solvers (e.\+g. the segregated FSI solver). Since such solvers may call the Newton solver themselves, a more fine-\/grained control over what we mean by "{}solving"{} was required. ~\newline
~\newline

\item The previously chosen name violated our own \href{../../coding_conventions/html/index.html}{\texttt{ coding conventions.}} For instance, 
\begin{DoxyCode}{0}
\DoxyCodeLine{FiniteElement::n\_nodal\_position\_type()}

\end{DoxyCode}
 had to be changed to ~\newline
 
\begin{DoxyCode}{0}
\DoxyCodeLine{FiniteElement::nnodal\_position\_type()}

\end{DoxyCode}
 because we do not want underscores after the leading "{}n"{} in an access function that returns the number of certain objects. ~\newline
~\newline

\item The order of the function arguments violated our own coding conventions. For instance, 
\begin{DoxyCode}{0}
\DoxyCodeLine{FiniteElement::get\_x(Vector<double>\&\ s,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\&\ t,...)\ }

\end{DoxyCode}
 had to be changed to 
\begin{DoxyCode}{0}
\DoxyCodeLine{FiniteElement::get\_x(\textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\&\ t,\ Vector<double>\&\ s,...)\ }

\end{DoxyCode}
 because the discrete "{}time"{} argument always comes first. ~\newline
~\newline

\end{DoxyEnumerate}Changes to function or object names are easy to detect because the compiler will not find the old version when linking against a new version of the library, encouraging the user to consult this list to (hopefully) find the appropriate replacement.

Changes to the order of function arguments can be very dangerous\+: if the order of two arguments of the same type is exchanged the compiler cannot detect the change to the interface but the code is likely to compute different results. To facilitate the detection of such changes, the new version of such functions contains an explicit warnings that can be enabled by compiling the library with the macro {\ttfamily WARN\+\_\+\+ABOUT\+\_\+\+SUBTLY\+\_\+\+CHANGED\+\_\+\+OOMPH\+\_\+\+INTERFACES}. (For a gcc compiler this is done with the compiler flag {\ttfamily -\/DWARN\+\_\+\+ABOUT\+\_\+\+SUBTLY\+\_\+\+CHANGED\+\_\+\+OOMPH\+\_\+\+INTERFACES}).

Here is an example of a function in which the order of the two unsigned arguments was changed. If compiled with {\ttfamily WARN\+\_\+\+ABOUT\+\_\+\+SUBTLY\+\_\+\+CHANGED\+\_\+\+OOMPH\+\_\+\+INTERFACES}, the code will issue an appropriate warning every time this function is called.


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{//\ Function\ of\ two\ unsigned\ arguments\ whose\ order\ has\ changed}}
\DoxyCodeLine{\textcolor{comment}{//\ since\ the\ previous\ release}}
\DoxyCodeLine{\textcolor{keywordtype}{void}\ SomeClass::some\_function(\textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\&\ t,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\&\ i)}
\DoxyCodeLine{\{}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ [...]}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\ \#ifdef\ WARN\_ABOUT\_SUBTLY\_CHANGED\_OOMPH\_INTERFACES}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \textcolor{comment}{//\ Throw\ an\ oomph-\/lib\ warning\ to\ alert\ the\ user\ to\ the\ change}}
\DoxyCodeLine{\ \ \ \textcolor{comment}{//\ in\ the\ order\ of\ the\ arguments}}
\DoxyCodeLine{\ \ \ OomphLibWarning(\textcolor{stringliteral}{"{}Warning:\ Order\ of\ interfaces\ has\ changed"{}},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}SomeClass::some\_function(...)"{}},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ OOMPH\_EXCEPTION\_LOCATION);}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\ \#endif}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ [...]}
\DoxyCodeLine{}
\DoxyCodeLine{\}}

\end{DoxyCode}


Obviously, you should only compile the library with {\ttfamily WARN\+\_\+\+ABOUT\+\_\+\+SUBTLY\+\_\+\+CHANGED\+\_\+\+OOMPH\+\_\+\+INTERFACES} if you encounter problems after upgrading to a new version.

\DoxyHorRuler{0}
\hypertarget{index_one_point_zero_to_two_point_zero}{}\doxysubsection{\texorpdfstring{Changes between version 1.\+0 and 2.\+0.\texorpdfstring{$\ast$}{*}}{Changes between version 1.0 and 2.0.*}}\label{index_one_point_zero_to_two_point_zero}
\hypertarget{index_new_functionality_two_point_zero}{}\doxysubsubsection{\texorpdfstring{Major new functionality/changes}{Major new functionality/changes}}\label{index_new_functionality_two_point_zero}

\begin{DoxyItemize}
\item Moved to C++11 standard and now use automatic formatting of code in the {\ttfamily src} directory, using {\ttfamily clang-\/format}. ~\newline
~\newline

\item Upgraded all python scripts to python3. ~\newline
~\newline

\item Included {\ttfamily CGAL}, {\ttfamily GMG}, {\ttfamily MPFR} and {\ttfamily Boost} into the third-\/party libraries that are shipped and automatically installed with {\ttfamily oomph-\/lib}. Existing installations can be used instead (via suitable flags in the configure options), but {\ttfamily oomph-\/lib} is only guaranteed to work with the versions provided. This functionality does not work on mac\+OS so mac\+OS users must add the {\ttfamily -\/-\/enable-\/suppress-\/cgal-\/build} flag to their configuration options to ensure that this doesn\textquotesingle{}t break their build. ~\newline
~\newline
 They are used for more efficient implementations of {\ttfamily locate\+\_\+zeta(...)} functionality. ~\newline
~\newline

\item Generalised unstructured 3D (tet-\/)mesh generation procedures so it can use {\ttfamily tetgen} and {\ttfamily gmsh}. ~\newline
~\newline

\item Provided scripts that (i) download the third-\/party tar files (for {\ttfamily MUMPS}, {\ttfamily trilinos} and {\ttfamily hypre}) and (ii) move the built installations to permanent locations. ~\newline
~\newline

\item Provided space-\/time discretisations for time-\/periodic unsteady-\/heat and Navier-\/\+Stokes equations. ~\newline
~\newline

\item Implemented a geometric multigrid solver for scalar PDEs (tested for the Poisson and Helmholtz equations). ~\newline
~\newline

\item Implemented the {\ttfamily Quad\+From\+Triangle\+Mesh} to construct quad-\/based meshes from triangle meshes. ~\newline
~\newline

\item Provided functionality to impose periodicity for three-\/dimensional brick meshes. ~\newline
~\newline

\item Provided machinery to create three-\/dimensional meshes based on the "{}extrusion"{} of a two-\/dimensional mesh; takes time-\/dependent macro-\/element behaviour into account. ~\newline
~\newline

\item Implemented a Krylov-\/subspace solver for the solution of single-\/equation-\/augmented linear systems ({\ttfamily Augmented\+GMRES} ).
\end{DoxyItemize}

\DoxyHorRuler{0}
\hypertarget{index_zero_point_nine_to_one_point_zero}{}\doxysubsection{\texorpdfstring{Changes between version 0.\+9 and 1.\+0.\texorpdfstring{$\ast$}{*}}{Changes between version 0.9 and 1.0.*}}\label{index_zero_point_nine_to_one_point_zero}
\hypertarget{index_new_functionality_one_point_zero}{}\doxysubsubsection{\texorpdfstring{Major new functionality}{Major new functionality}}\label{index_new_functionality_one_point_zero}

\begin{DoxyItemize}
\item Provided the capability to solve the Helmholtz equation (with various ways of implementing the Sommerfeld radiation condition), the time-\/harmonic equations of linear elasticity, and the interaction between these two systems of equations in time-\/harmonic acoustic fluid structure interaction problems. All equations are implemented in cartesian and cylindrical polar coordinates (in the latter case, using an azimuthal Fourier decomposition for the solution). ~\newline
~\newline

\item Provided block preconditioners for the solution of large-\/displacement fluid-\/structure interaction problems, based the coupling of full nonlinear 2D/3D elasticity and the Navier-\/\+Stokes equations. ~\newline
~\newline

\item Implemented the linearised Navier-\/\+Stokes equations (with the option to study their solutions as perturbations relative to a base state that is itself governed by the full Navier-\/\+Stokes equations). ~\newline
~\newline

\item Provided elements for the solution of the axisymmetric equations of linear elasticity. ~\newline
~\newline

\item Finished what is hopefully the final rewrite of the (parallel) block preconditioning framework and its extensive tutorial. ~\newline
~\newline

\item Provided elements for the solution of the Foeppl-\/von-\/\+Karman equations in various formulations (using either an Airy-\/stress function or the in-\/plane displacements) and in various coordinate systems. ~\newline
~\newline

\item Provided elements for Darcy porous media flow and Biot-\/type poro-\/elasticity, including the ability to use the latter elements in fluid-\/structure interaction problems which are governed by the equations of poro-\/elasticity coupled to the Navier-\/\+Stokes equations. ~\newline
~\newline

\item Implemented the ability adapt unstructured meshes in 2D (in serial and in parallel) and (in a parallel setting) to distribute such meshes over multiple processors, and to perform load balancing in spatially adaptive simulations. ~\newline
~\newline

\item Provided elements for the solution of elements for the solution of the Navier-\/\+Stokes equations with generalised Newtonian constitutive equations (i.\+e. non-\/\+Newtonian behaviour in which the viscosity depends on the invariants of the rate-\/of-\/strain tensor).~\newline
~\newline

\item Provided machinery to output paraview (vtu and vtp) files directly (implemented for selected elements; broken virtual functions in base classes provide instructions what to do for others). ~\newline
~\newline

\item Provided machinery to establish what the equations/unknowns in a fully-\/built problem represent. Calling {\ttfamily Problem\+::describe\+\_\+dofs()} trawls recursively through the oomph-\/lib object hierarchy to describe what each degree of freedom represents (from the Problem\textquotesingle{}s, Meshes\textquotesingle{} and Nodes\textquotesingle{} point of view). Very useful for debugging (e.\+g. "{}\+Why are all the entries in the n-\/th row/column in the Jacobian     zero?"{} or "{}\+The n-\/th residual is enormous -\/-\/ which equation does it    correspond to?"{}, etc.) ~\newline
~\newline

\item Provided machinery for hp adaptivity and p-\/type spectral elements with mortar constraints in 2D and 3D.~\newline
~\newline

\item Added interfaces to the Trilinos ANASAZI eigensolver to allow parallel solution of eigenproblems. ~\newline
~\newline

\item Basic implementation of discontinuous Galerkin methods for general flux transport problems.~\newline
~\newline

\item Many new detailed tutorials explaining\+:~\newline
~\newline

\begin{DoxyItemize}
\item How to use \textbackslash{}t oomph-\/lib in parallel and how to (optionally) distribute problems over multiple processors and to perform load balancing when performing spatially-\/adaptive, distributed simulations. ~\newline
~\newline

\item How to use oomph-\/lib\textquotesingle{}s block preconditioning framework. ~\newline
~\newline

\item How to solve large-\/displacement fluid-\/structure interaction problems, based the coupling of full nonlinear 2D/3D elasticity and the Navier-\/\+Stokes equations, incl. the use of preconditioners and spatial adaptivity. ~\newline
~\newline

\item How to generate unstructured 2D meshes whose curvlinear boundaries are described my {\ttfamily Geom\+Objects}; these boundaries are respected under mesh refinement, i.\+e. the mesh converges to the exact domain geometry, rather than using the geometry defined by the initial, coarse discretisation. ~\newline
~\newline

\item How to simulate steady and unsteady free-\/surface flows in various geometries. ~\newline
~\newline

\item How to simulate the transport of immersed solid particles in viscous flow. ~\newline
~\newline

\item How to implement and solve surface transport equations, such as insoluble and soluble surfactant problems. ~\newline
~\newline

\item How to solve the Helmholtz equations in a variety of coordinate systems and how to apply the Sommerfeld radiation condition by ABCs, DTNs, or PMLs. ~\newline
~\newline

\item How to solve time-\/harmonic acoustic fluid-\/structure interaction problems in a variety of coordinate systems. ~\newline
~\newline

\item ...~\newline
~\newline

\end{DoxyItemize}
\end{DoxyItemize}Have a look through the \href{../../example_code_list/html/index.html}{\texttt{ extensive list of example codes}} to see what else is available. . ~\newline
\hypertarget{index_zero_point_eight_five_to_zero_point_nine}{}\doxysubsection{\texorpdfstring{Changes between version 0.\+85 and 0.\+9}{Changes between version 0.85 and 0.9}}\label{index_zero_point_eight_five_to_zero_point_nine}
\hypertarget{index_new_functionality_zero_point_nine}{}\doxysubsubsection{\texorpdfstring{Major new functionality}{Major new functionality}}\label{index_new_functionality_zero_point_nine}

\begin{DoxyItemize}
\item Significantly extended {\ttfamily oomph-\/lib\textquotesingle{}s} parallel processing capabilities. The library\textquotesingle{}s solver and (block) preconditioning framework is now fully parallelised; the parallel assembly of the Jacobian and residual vector has been optimised, and problems can be now distributed by domain decomposition techniques. \href{../../mpi/general_mpi/html/index.html}{\texttt{ A new tutorial}} and various \href{../../example_code_list/html/index.html\#parallel}{\texttt{ new demo driver codes}} demo driver codes provide an overview of these capabilities. ~\newline
~\newline

\item Completed the documentation of {\ttfamily oomph-\/lib\textquotesingle{}s} solid mechanics (large-\/displacement elasticity) capabilities. We provide an overview of the \href{../../solid/solid_theory/html/index.html}{\texttt{ theory and implementation}}, as well as \href{../../example_code_list/html/index.html\#solid}{\texttt{ numerous tutorials}} discussing the solution of steady and unsteady, 2D and 3D problems with compressible and incompressible materials on structured and unstructured meshes. ~\newline
~\newline

\item Developed a \href{../../meshes/mesh_from_vmtk/html/index.html}{\texttt{ tutorial}} that shows how to use the \href{http://www.vmtk.org}{\texttt{ Vascular Modeling Toolkit (VMTK)}} to generate {\ttfamily oomph-\/lib} meshes from medical images. The methodology is used in the following driver codes\+: ~\newline
~\newline

\begin{DoxyItemize}
\item \href{../../solid/vmtk_solid/html/index.html}{\texttt{ The inflation of a blood vessel.}} ~\newline
~\newline

\item \href{../../navier_stokes/vmtk_fluid/html/index.html}{\texttt{ Finite Reynolds number flow through a (rigid) iliac bifurcation.}} ~\newline
~\newline

\item \href{../../interaction/vmtk_fsi/html/index.html}{\texttt{ Finite Reynolds number flow through an elastic iliac bifurcation.}}
\end{DoxyItemize}~\newline
~\newline

\item Extended FSI capabilities so that such problems can be solved on unstructured meshes. We provide new tutorials that demonstrate this capability for \href{../../interaction/unstructured_fsi/html/index.html}{\texttt{ 2D}} and \href{../../interaction/unstructured_three_d_fsi/html/index.html}{\texttt{ 3D}} problems. ~\newline
~\newline

\item Introduced {\ttfamily Element\+With\+External\+Element} as base class for multi-\/physics elements in which elements in different meshes/ domains interact via source/load functions (e.\+g. in fluid-\/structure interaction or thermal convection problems). See the new tutorials discussing the \href{../../multi_physics/multi_domain_ref_b_convect/html/index.html}{\texttt{ serial}} and \href{../../mpi/boussinesq_convection/html/index.html}{\texttt{ parallel}} solution of multi-\/physics problems by multi-\/domain approaches. ~\newline
~\newline

\item Parallelised and optimised the {\ttfamily Mesh\+As\+Geom\+Object} class to use bin structures to accelerate the search in {\ttfamily locate\+\_\+zeta(...)}. ~\newline
~\newline

\item {\ttfamily Finite\+Elements} are now {\ttfamily Geom\+Objects} within which their local coordinates act as their intrinsic coordinates. ~\newline
~\newline

\item Extended the {\ttfamily Z2\+Error\+Estimator} so that the elemental error estimate can be based on the maximum of various distinct fluxes -- useful for multi-\/field problems such as Boussinesq convection. See the \href{../../multi_physics/refine_b_convect/html/index.html\#comments}{\texttt{ tutorial}} for details. ~\newline
~\newline

\item Added a structured, domain-\/based mesh for the discretisation of tube-\/like domains. See the \href{../../meshes/mesh_list/html/index.html}{\texttt{ list of structured meshes}} for details. ~\newline
~\newline

\item Provided a new Lagrange-\/multiplier-\/based element, that allows the imposition of parallel in-\/ or outflow from boundaries that are not aligned with coordinate planes. This is discussed in a \href{../../navier_stokes/vmtk_fluid/html/index.html}{\texttt{ separate tutorial.}} ~\newline
~\newline

\item Provided a new mechanism that allows multiple {\ttfamily Face\+Elements} to be attached to same node, while providing the ability to distinguish between different Lagrange multipliers stored at the same node. This is discussed in a \href{../../interaction/vmtk_fsi/html/index.html}{\texttt{ separate tutorial.}} ~\newline
~\newline

\item Significantly extended oomph-\/lib\textquotesingle{}s bifurcation tracking routines (no tutorials yet, though). ~\newline
~\newline

\item Provided general framework and driver codes for discontinuous Galerkin methods and explicit timesteppers (no tutorials yet, though). ~\newline
~\newline

\end{DoxyItemize}

\DoxyHorRuler{0}
\hypertarget{index_major_interface_changes_zero_point_nine}{}\doxysubsubsection{\texorpdfstring{Major interface changes}{Major interface changes}}\label{index_major_interface_changes_zero_point_nine}

\begin{DoxyItemize}
\item 
\begin{DoxyCode}{0}
\DoxyCodeLine{SolidFiniteElement::add\_jacobian\_for\_solid\_ic()\ }

\end{DoxyCode}
 becomes 
\begin{DoxyCode}{0}
\DoxyCodeLine{SolidFiniteElement::fill\_in\_jacobian\_for\_solid\_ic()}

\end{DoxyCode}
 ~\newline
~\newline

\item 
\begin{DoxyCode}{0}
\DoxyCodeLine{SolidFiniteElement::add\_residuals\_for\_ic()}

\end{DoxyCode}
 becomes 
\begin{DoxyCode}{0}
\DoxyCodeLine{SolidFiniteElement::fill\_in\_residuals\_for\_solid\_ic()}

\end{DoxyCode}
 ~\newline
~\newline

\item 
\begin{DoxyCode}{0}
\DoxyCodeLine{SolidFiniteElement::get\_residuals\_for\_ic()}

\end{DoxyCode}
 becomes 
\begin{DoxyCode}{0}
\DoxyCodeLine{SolidFiniteElement::fill\_in\_residuals\_for\_solid\_ic()}

\end{DoxyCode}
 ~\newline
~\newline

\item Changed order of arguments in {\ttfamily PVDEquations\+Base\+::\+Body\+Force\+Fct\+Pt} so that time goes first (as it should!). ~\newline
~\newline

\item Not exactly an interface change but important\+: {\ttfamily Algebraic\+Meshes} and {\ttfamily Macro\+Element\+Node\+Update\+Meshes} {\bfseries{should}} now specify the {\ttfamily Geom\+Objects} involved in their node update functions. (This {\bfseries{must}} be done if such meshes are to be used in parallel computations involving domain decomposition). The declaration of the {\ttfamily Geom\+Objects} should use the functions {\ttfamily Algebraic\+Mesh\+::add\+\_\+geom\+\_\+object\+\_\+list\+\_\+pt(...)} and {\ttfamily Macro\+Element\+Node\+Update\+Mesh\+::set\+\_\+geom\+\_\+object\+\_\+vector\+\_\+pt(...)}, respectively. ~\newline
~\newline

\item Added integration point arguments to all get\+\_\+source-\/type functions in elements to allow for overloading in multi-\/domain calculations. For example, ~\newline
~\newline
 
\begin{DoxyCode}{0}
\DoxyCodeLine{NavierStokesEquations<DIM>::get\_body\_force\_nst(\textcolor{keyword}{const}\ \textcolor{keywordtype}{double}\&\ time,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ Vector<double>\ \&s,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ Vector<double>\ \&x,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Vector<double>\ \&result)}

\end{DoxyCode}
 ~\newline
~\newline
 has been changed to ~\newline
~\newline
 
\begin{DoxyCode}{0}
\DoxyCodeLine{NavierStokesEquations<DIM>::get\_body\_force\_nst(\textcolor{keyword}{const}\ \textcolor{keywordtype}{double}\&\ time,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\&\ ipt,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ Vector<double>\ \&s,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ Vector<double>\ \&x,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Vector<double>\ \&result)}

\end{DoxyCode}
 ~\newline
~\newline

\item {\ttfamily Geom\+Object\+::drdt(...)} is now {\ttfamily Geom\+Object\+::dposition\+\_\+dt(...)} to make it consistent with all other functions of that type. ~\newline
~\newline

\item {\ttfamily FSI\+\_\+functions\+::setup\+\_\+fluid\+\_\+load\+\_\+info\+\_\+for\+\_\+solid\+\_\+elements(...)} now requires a pointer to the {\ttfamily Problem} to be specified as the first argument. ~\newline
~\newline

\item Specification of wall and fluid meshes in {\ttfamily FSIPreconditioner} changed from read/write access functions {\ttfamily FSIPreconditioner\+::navier\+\_\+stokes\+\_\+mesh\+\_\+pt()} and {\ttfamily FSIPreconditioner\+::wall\+\_\+mesh\+\_\+pt()} to {\ttfamily FSIPreconditioner\+::set\+\_\+navier\+\_\+stokes\+\_\+mesh(...)} and {\ttfamily FSIPreconditioner\+::set\+\_\+wall\+\_\+mesh(...)}, respectively. ~\newline
~\newline

\item Specification of fluid mesh in {\ttfamily Navier\+Stokes\+LSCPreconditioner} changed from read/write access function {\ttfamily FSIPreconditioner\+::navier\+\_\+stokes\+\_\+mesh\+\_\+pt()} to {\ttfamily FSIPreconditioner\+::set\+\_\+navier\+\_\+stokes\+\_\+mesh(...)}. ~\newline
~\newline

\item Removed all explicit references to {\ttfamily MPI\+\_\+\+COMM\+\_\+\+WORLD} and the parameters {\ttfamily MPI\+\_\+\+Helpers\+::\+Nproc} {\ttfamily MPI\+\_\+\+Helpers\+::\+My\+\_\+rank}. The total number of processors and the rank of each processor should be obtained from the appropriate {\ttfamily Oomph\+Communicator}. ~\newline
~\newline

\item Replaced {\ttfamily MPI\+\_\+\+Helpers\+::setup(...)} with {\ttfamily MPI\+\_\+\+Helpers\+::init(...)} and added {\ttfamily MPI\+\_\+\+Helpers\+::finalize()}. These should be called instead of MPI\textquotesingle{}s own {\ttfamily init()} and {\ttfamily finalize()} functions. ~\newline
~\newline

\item Introduced {\ttfamily Double\+Vector} -- a distributable vector storing double precision numbers. ~\newline
~\newline

\item Merged {\ttfamily CRDouble\+Matrix} and {\ttfamily Distributable\+CRDouble\+Matrix} into {\ttfamily CRDouble\+Matrix}. (Note\+: {\ttfamily CRDouble\+Matrix} is the only distributable matrix within {\ttfamily oomph-\/lib}.) ~\newline
~\newline

\item Merged {\ttfamily Super\+LU} and {\ttfamily Super\+LU\+\_\+dist} into {\ttfamily Super\+LUSolver}. If {\ttfamily oomph-\/lib} is compiled with MPI support, the parallel version of the (exact) preconditioner is used automatically. This behaviour can be over-\/ruled with the member function 
\begin{DoxyCode}{0}
\DoxyCodeLine{SuperLUSolver::set\_solver\_type(...)}

\end{DoxyCode}
 whose argument must be one of the three options listed in the enumeration {\ttfamily Super\+LUSolver\+::\+Type}. This allows the serial version of the solver to be used even if {\ttfamily oomph-\/lib} is compiled with MPI support. ~\newline
~\newline

\item Merged {\ttfamily Super\+LUPreconditioner} and {\ttfamily Super\+LUDist\+Preconditioner} into {\ttfamily Super\+LUPreconditioner}. If {\ttfamily oomph-\/lib} is compiled with MPI support, the parallel version of the solver is used automatically. ~\newline
~\newline

\item Updated all solvers/preconditioners to handle new {\ttfamily CRDouble\+Matrix} and {\ttfamily Double\+Vector}. ~\newline
~\newline

\item In {\ttfamily Navier\+Stokes\+LSCPreconditioner} ~\newline
~\newline
 
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordtype}{void}\ set\_f\_preconditioner(Preconditioner\&\ new\_f\_preconditioner)}

\end{DoxyCode}
 and ~\newline
~\newline
 
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordtype}{void}\ set\_p\_preconditioner(Preconditioner\&\ new\_f\_preconditioner)}

\end{DoxyCode}
 ~\newline
~\newline
 were changed to ~\newline
~\newline
 
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordtype}{void}\ set\_f\_preconditioner(Preconditioner*\ new\_f\_preconditioner\_pt)}

\end{DoxyCode}
 ~\newline
~\newline
 and ~\newline
~\newline
 
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordtype}{void}\ set\_p\_preconditioner(Preconditioner*\ new\_f\_preconditioner\_pt)}

\end{DoxyCode}
 ~\newline
~\newline
 respectively, to make them consistent with the rest of the code. ~\newline
~\newline

\item Changed 
\begin{DoxyCode}{0}
\DoxyCodeLine{FiniteElement::get\_block\_numbers\_for\_unknowns(...)}

\end{DoxyCode}
 to 
\begin{DoxyCode}{0}
\DoxyCodeLine{FiniteElement::get\_dof\_numbers\_for\_unknowns(...)}

\end{DoxyCode}
 and 
\begin{DoxyCode}{0}
\DoxyCodeLine{FiniteElement::nblock\_types()}

\end{DoxyCode}
 to 
\begin{DoxyCode}{0}
\DoxyCodeLine{FiniteElement::ndof\_types()}

\end{DoxyCode}
 ~\newline
~\newline

\item Nearly an interface change\+: We now provide the option to exclude/wipe the validata from the distribution (during {\ttfamily make} {\ttfamily dist}). To make sure that the self-\/test procedure doesn\textquotesingle{}t break if there\textquotesingle{}s no validata, configure now assesses the availability of validata by checking the existence of 
\begin{DoxyCode}{0}
\DoxyCodeLine{demo\_drivers/poisson/one\_d\_poisson/validata/one\_d\_poisson\_results.dat.gz}

\end{DoxyCode}
 If this is not found, we\textquotesingle{}ll assume that there\textquotesingle{}s no validata anywhere. In that case, "{}make check"{} will still compile and run the demo drivers but not use fpdiff.\+py to compare them against the validata. The behaviour is thus similar to what\textquotesingle{}s done if we don\textquotesingle{}t have python. We therefore modified the "{}no\+\_\+python"{} argument that used to be passed to all validate.\+sh scripts to suppress the execution of fpdiff.\+py and replaced it by "{}no\+\_\+fpdiff"{}. As a result all validate.\+sh scripts had to be changed. MAKE SURE YOU UPDATE ANY NEW ONES BEFORE ADDING THEM TO THE DISTRIBUTION! ~\newline
~\newline
 To reflect the fact that the fpdiff-\/ing can now be suppressed for multiple reasons, we renamed 
\begin{DoxyCode}{0}
\DoxyCodeLine{bin/validate\_no\_python.sh}

\end{DoxyCode}
 to 
\begin{DoxyCode}{0}
\DoxyCodeLine{bin/dummy\_validate.sh}

\end{DoxyCode}
 ~\newline
~\newline

\item All the bools in calls to the various {\ttfamily node\+\_\+update(...)} functions were changed to {\ttfamily const} {\ttfamily bool\&} (rather than {\ttfamily bool}). ~\newline
~\newline

\item The constructors for all constitutive equations now take pointers to constitutive parameters rather than the parameters themselves. (With the previous approach, changing Young\textquotesingle{}s modulus, say, required the construction of a new constitutive equation object that then had to be passed to all elements again etc.) ~\newline
~\newline

\item Got rid of all other instances where time argument was passed by copy rather than by constant reference -- as long as grep-\/ing for the pattern \textquotesingle{}(double t\textquotesingle{} detected it. In practice this involved various Navier-\/\+Stokes traction, body force and source functions.
\end{DoxyItemize}

\DoxyHorRuler{0}
 \DoxyHorRuler{0}
\hypertarget{index_zero_point_eight_to_zero_point_five}{}\doxysubsection{\texorpdfstring{Changes between version 0.\+8 and 0.\+85}{Changes between version 0.8 and 0.85}}\label{index_zero_point_eight_to_zero_point_five}
\hypertarget{index_new_functionality_zero_point_five}{}\doxysubsubsection{\texorpdfstring{Major new functionality}{Major new functionality}}\label{index_new_functionality_zero_point_five}

\begin{DoxyItemize}
\item Added a variety of iterative linear solvers and general-\/purpose preconditioners. ~\newline
~\newline

\item Added wrappers to the powerful serial and parallel iterative solvers/preconditioners from the Hyre and Trilinos libraries. ~\newline
~\newline

\item Developed a general block preconditioning framework and used it implement problem-\/specific preconditioners for Navier-\/\+Stokes and fluid-\/structure-\/interaction problems. ~\newline
~\newline

\begin{DoxyItemize}
\item \href{../../preconditioners/lsc_navier_stokes/html/index.html}{\texttt{ Using {\ttfamily oomph-\/lib\textquotesingle{}s} Least-\/\+Squares-\/\+Commutator Navier-\/\+Stokes preconditioner.}} ~\newline
~\newline

\item \href{../../preconditioners/fsi/html/index.html}{\texttt{ Using {\ttfamily oomph-\/lib\textquotesingle{}s} FSI preconditioner.}}
\end{DoxyItemize}~\newline
~\newline

\item Provided segregated solver capabilities for fluid-\/structure interaction. ~\newline
~\newline

\item Added a number of additional tutorials/demo codes illustrating {\ttfamily oomph-\/lib\textquotesingle{}s} fluid-\/structure interaction capabilities\+: ~\newline
~\newline

\begin{DoxyItemize}
\item \href{../../interaction/turek_flag/html/index.html}{\texttt{ Turek \& Hron\textquotesingle{}s FSI benchmark problem of flow past a "{}flag"{}.}} ~\newline
~\newline

\item \href{../../interaction/fsi_channel_with_leaflet/html/index.html}{\texttt{ Flow in a channel with an elastic leaflet.}} ~\newline
~\newline

\item \href{../../interaction/fsi_channel_segregated_solver/html/index.html}{\texttt{ Using {\ttfamily oomph-\/lib\textquotesingle{}s} segregated solvers for fluid-\/structure-\/interaction problems.}} ~\newline
~\newline

\item \href{../../preconditioners/fsi/html/index.html}{\texttt{ Using {\ttfamily oomph-\/lib\textquotesingle{}s} FSI preconditioner.}}
\end{DoxyItemize}~\newline
~\newline

\item MPI capability is now fully integrated into the library (rather than being kept in a separate mpi directory/sub-\/library) but not yet complete (or documented). Segments of code that involve MPI calls are surrounded by {\ttfamily \#ifdef} {\ttfamily OOMPH\+\_\+\+HAS\+\_\+\+MPI} {\ttfamily }\mbox{[}...\mbox{]} {\ttfamily \#endif}. They are only compiled if the {\ttfamily -\/-\/enable-\/\+MPI} flag is specified at the configure stage. ~\newline
 ~\newline
~\newline

\item Assuming you have {\ttfamily pdflatex} installed on your machine, the documentation is now not only built in html format (pretty but hard to print) but we also create associated pdf files. These are accessible via the link at the bottom of relevant html page. ~\newline
~\newline

\item {\ttfamily oomph-\/lib\textquotesingle{}s} build script, {\ttfamily autogen}.{\ttfamily sh} now allows for parallel compilation. This can lead to considerable speedups on multicore processors that are now widely available. To build {\ttfamily oomph-\/lib} in parallel, using up four threads run {\ttfamily autogen}.{\ttfamily sh} as follows 
\begin{DoxyCode}{0}
\DoxyCodeLine{./autogen.sh\ -\/-\/jobs=4\ }

\end{DoxyCode}
 or (if you are re-\/building) 
\begin{DoxyCode}{0}
\DoxyCodeLine{./autogen.sh\ -\/-\/jobs=4\ -\/-\/rebuild}

\end{DoxyCode}
 ~\newline
~\newline

\item Angelo Simone has written a python script that converts {\ttfamily oomph-\/lib\textquotesingle{}s} output to the vtu format that can be read by \href{http://www.paraview.org}{\texttt{ paraview}}, an open-\/source 3D plotting package. This is discussed in \href{../../paraview/html/index.html}{\texttt{ separate tutorial.}} ~\newline
~\newline

\item ...and much more (eigenproblems, bifurcation tracking, advection-\/diffusion-\/reaction equations, displacement-\/based linear elasticity, impedance-\/type outflow boundary conditions for Navier-\/\+Stokes problems, Lagrange-\/multiplier-\/based {\ttfamily Face\+Elements} to apply non-\/trivial boundaries to beams and shells, ...). Feel free to have a look around the distribution. You\textquotesingle{}re welcome to use it all, but please remember that you use any functionality for which no documentation is available at your own risk; while we reserve the right to change interfaces for all objects in the library, such changes are almost certain to happen for objects that are not yet documented (in the form of tutorials). ~\newline
~\newline
. ~\newline

\end{DoxyItemize}

\DoxyHorRuler{0}
\hypertarget{index_major_interface_changes_zero_point_five}{}\doxysubsubsection{\texorpdfstring{Major interface changes}{Major interface changes}}\label{index_major_interface_changes_zero_point_five}

\begin{DoxyItemize}
\item {\ttfamily Problem\+::actions\+\_\+before\+\_\+solve()} becomes {\ttfamily Problem\+::actions\+\_\+before\+\_\+newton\+\_\+solve()} ~\newline
~\newline

\item {\ttfamily Problem\+::actions\+\_\+after\+\_\+solve()} becomes {\ttfamily Problem\+::actions\+\_\+after\+\_\+newton\+\_\+solve()} ~\newline
~\newline

\item {\ttfamily TCrouzeix\+Raviart\+Element$<$\+DIM$>$} becomes {\ttfamily TCrouzeix\+Raviart\+Element$<$\+DIM$>$} ~\newline
~\newline

\item {\ttfamily QCrouzeix\+Raviart\+Element$<$\+DIM$>$} becomes {\ttfamily QCrouzeix\+Raviart\+Element$<$\+DIM$>$} ~\newline
~\newline

\item {\ttfamily Refineable\+QCrouzeix\+Raviart\+Element$<$\+DIM$>$} becomes {\ttfamily Refineable\+QCrouzeix\+Raviart\+Element$<$\+DIM$>$} ~\newline
~\newline

\item Fixed various violations of our naming conventions; see \doxysectlink{index_interface_changes}{Policy on interface changes}{1}. ~\newline
~\newline

\item Changed the interface of to the {\ttfamily Face\+Elements} so that the faces are represented by an integer {\ttfamily face\+\_\+index}, rather than the combination {\ttfamily s\+\_\+fixed\+\_\+index} and {\ttfamily s\+\_\+limit} which was not sufficiently general.
\end{DoxyItemize}\DoxyHorRuler{0}
 \DoxyHorRuler{0}
 \hypertarget{index_pdf}{}\doxysection{\texorpdfstring{PDF file}{PDF file}}\label{index_pdf}
A \href{../latex/refman.pdf}{\texttt{ pdf version}} of this document is available. \end{document}
